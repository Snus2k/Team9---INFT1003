/* Source and licensing information for the line(s) below can be found at https://www.readandspell.com/misc/progress.js. */
(function($){Drupal.progressBar=function(id,updateCallback,method,errorCallback){var pb=this;this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$('<div class="progress" aria-live="polite"></div>').attr('id',id);this.element.html('<div class="bar"><div class="filled"></div></div><div class="percentage"></div><div class="message">&nbsp;</div>')};Drupal.progressBar.prototype.setProgress=function(percentage,message){if(percentage>=0&&percentage<=100){$('div.filled',this.element).css('width',percentage+'%');$('div.percentage',this.element).html(percentage+'%')};$('div.message',this.element).html(message);if(this.updateCallback)this.updateCallback(percentage,message,this)};Drupal.progressBar.prototype.startMonitoring=function(uri,delay){this.delay=delay;this.uri=uri;this.sendPing()};Drupal.progressBar.prototype.stopMonitoring=function(){clearTimeout(this.timer);this.uri=null};Drupal.progressBar.prototype.sendPing=function(){if(this.timer)clearTimeout(this.timer);if(this.uri){var pb=this;$.ajax({type:this.method,url:this.uri,data:'',dataType:'json',success:function(progress){if(progress.status==0){pb.displayError(progress.data);return};pb.setProgress(progress.percentage,progress.message);pb.timer=setTimeout(function(){pb.sendPing()},pb.delay)},error:function(xmlhttp){pb.displayError(Drupal.ajaxError(xmlhttp,pb.uri))}})}};Drupal.progressBar.prototype.displayError=function(string){var error=$('<div class="messages error"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback)this.errorCallback(this)}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://www.readandspell.com/misc/progress.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://www.readandspell.com/sites/all/modules/load_block_on_ajax/load_block_on_ajax.js. */
(function($){Drupal.loadBlockOnAjax=function(){$('.load-block-on-ajax-wrapper h2').click(function(){if(!$(this).parent().hasClass('load-block-active-wrapper')){$(this).parent().addClass('load-block-active-wrapper');$(this).parent().find('.load-on-ajax-img-text-center').show();$(this).parent().find('h2').addClass('load-block-on-ajax-wrapper-minus');var load_on_ajax_div_id=$(this).parent().find('div[id^=load-block-on-ajax-]').attr('id'),block_id=load_on_ajax_div_id.replace('load-block-on-ajax-','');block_id=block_id.replace('-ajax-content','');$.ajax({url:Drupal.settings.basePath+'load-block-on-ajax/'+block_id+'?path='+Drupal.settings.load_block_on_ajax_path,type:'GET',dataType:'json',cache:false,success:function(data){var context=$('#load-block-on-ajax-'+block_id+'-ajax-content');Drupal.detachBehaviors(context);context.html(data.content);if(data.ajaxblocks_settings)$.extend(true,Drupal.settings,data.ajaxblocks_settings);Drupal.attachBehaviors(context)}})}else{$(this).parent().find('.load-on-ajax-text-center').toggle();$(this).parent().find('h2').toggleClass('load-block-on-ajax-wrapper-minus')}})};$(document).ready(function(){Drupal.loadBlockOnAjax()})})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://www.readandspell.com/sites/all/modules/load_block_on_ajax/load_block_on_ajax.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://www.readandspell.com/sites/all/modules/colorbox_node/colorbox_node.js. */
(function($){Drupal.ajax.prototype.commands.colorboxNodeReload=function(ajax,response){location.reload()};Drupal.ajax.prototype.commands.colorboxNodeRedirect=function(ajax,response){window.location.replace(response.data)};Drupal.behaviors.colorboxNode={attach:function(context,settings){if(!$.isFunction($.colorbox)||typeof settings.colorbox==='undefined')return;if(settings.colorbox.mobiledetect&&window.matchMedia){var mq=window.matchMedia("(max-device-width: "+settings.colorbox.mobiledevicewidth+")");if(mq.matches)return};$('.colorbox-node',context).once('init-colorbox-node-processed',function(){$(this).colorboxNode({launch:false})});$('ul.contextual-links a',context).once('colorboxNodeContextual').click(function(){$.colorbox.close()})}};$.fn.colorboxNodeLaunch=function(settings){var $this=$(this).clone();if(!$this.hasClass('colorbox-node-gallery'))$this.attr('rel','');var innerWidth=$this.data('inner-width'),innerHeight=$this.data('inner-height');if(typeof innerWidth!='undefined'&&typeof innerHeight!='undefined'){var params=$.urlDataParams(innerWidth,innerHeight)}else var params=$.urlParams(settings.href);if(params.innerHeight==undefined)params.innerHeight=settings.height;if(params.innerWidth==undefined)params.innerWidth=settings.width;params.html='<div id="colorboxNodeLoading"></div>';params.onComplete=function(){$this.colorboxNodeGroup()};params.open=true;$this.colorbox($.extend({},Drupal.settings.colorbox,params))};$.fn.colorboxNode=function(options){var $this=this;options=options||{};var settings={launch:true,width:Drupal.settings.colorbox_node.width,height:Drupal.settings.colorbox_node.height};$.extend(settings,options);settings.href=$this.attr('data-href');if(typeof settings.href=='undefined'||settings.href==false)settings.href=$this.attr('href');var parse=document.createElement('a');parse.href=settings.href;if(!settings.href)alert(Drupal.t('No url found on element'));var base_path=Drupal.settings.basePath,path_prefix=Drupal.settings.pathPrefix,pathname=parse.pathname;if(pathname.charAt(0)!='/')pathname='/'+parse.pathname;var cleanURLs=$.getParameterByName('q',settings.href);if(base_path!='/'){if(cleanURLs!=''){settings.link=pathname.replace(base_path,base_path+parse.search.replace('?q=','?q=/'+path_prefix+'colorbox/'))}else settings.link=pathname.replace(base_path,base_path+path_prefix+'colorbox/')+parse.search}else if(cleanURLs!=''){settings.link=base_path+parse.search.replace('?q=','?q=/'+path_prefix+'colorbox/')}else settings.link=base_path+path_prefix+'colorbox'+pathname+parse.search;var element_settings={};element_settings.async=true;element_settings.progress={type:'none'};if(settings.link){element_settings.url=settings.link;element_settings.event='click'};var base=$(this).attr('id');Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings);if(settings.launch){Drupal.ajax[base].eventResponse(this,'click');$(this).colorboxNodeLaunch(settings)}else $(this).click(function(){$(this).colorboxNodeLaunch(settings)})};$.fn.colorboxNodeGroup=function(){var $this=$(this),rel=$this.attr('rel');if(rel&&$this.hasClass('colorbox-node-gallery')){if($('a.colorbox-node-gallery[rel="'+rel+'"]:not(#colorbox a[rel="'+rel+'"])').length>1){$related=$('a.colorbox-node-gallery[rel="'+rel+'"]:not(#colorbox a[rel="'+rel+'"])');var $related_unique=[];$related.each(function(){$.findHref($related_unique,this.href);if(!$.findHref($related_unique,this.href).length)$related_unique.push(this)});var current=$.findHref($related_unique,$this.get(0).href);$related=$($related_unique);var idx=$related.index($(current)),tot=$related.length;$('#cboxPrevious, #cboxNext').show();$.colorbox.next=function(){index=get_index(1);$related[index].click()};$.colorbox.prev=function(){index=get_index(-1);$related[index].click()};$('#cboxCurrent').html(Drupal.settings.colorbox.current.replace('{current}',idx+1).replace('{total}',tot)).show();$('#cboxNext').html(Drupal.settings.colorbox.next).show();$('#cboxPrevious').html(Drupal.settings.colorbox.previous).show();var prefix='colorbox';$(document).unbind('keydown.'+prefix);$(document).bind('keydown.'+prefix,function(e){var key=e.keyCode;if($related[1]&&!e.altKey)if(key===37){e.preventDefault();$.colorbox.prev()}else if(key===39){e.preventDefault();$.colorbox.next()}})};function get_index(increment){var max=$related.length,newIndex=(idx+increment)%max;return(newIndex<0)?max+newIndex:newIndex}}};$.findHref=function(items,href){return $.grep(items,function(n,i){return n.href==href})};$.urlParams=function(url){var p={},e,a=/\+/g,r=/([^&=]+)=?([^&]*)/g,d=function(s){return decodeURIComponent(s.replace(a,' '))},q=url.split('?');while(e=r.exec(q[1])){e[1]=d(e[1]);e[2]=d(e[2]);switch(e[2].toLowerCase()){case'true':case'yes':e[2]=true;break;case'false':case'no':e[2]=false;break};if(e[1]=='width')e[1]='innerWidth';if(e[1]=='height')e[1]='innerHeight';p[e[1]]=e[2]};return p};$.urlDataParams=function(innerWidth,innerHeight){return{innerWidth:innerWidth,innerHeight:innerHeight}};$.getParameterByName=function(name,href){name=name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");var regexString="[\\?&]"+name+"=([^&#]*)",regex=new RegExp(regexString),found=regex.exec(href);if(found==null){return""}else return decodeURIComponent(found[1].replace(/\+/g," "))}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://www.readandspell.com/sites/all/modules/colorbox_node/colorbox_node.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://www.readandspell.com/sites/all/themes/readandspell/js/script.js. */
(function($,Drupal,window,document,undefined){})(jQuery,Drupal,this,this.document);;
/* Source and licensing information for the above line(s) can be found at https://www.readandspell.com/sites/all/themes/readandspell/js/script.js. */
;/*})'"*/
/**
* @preserve Copyright 2012 Twitter, Inc.
* @license http://www.apache.org/licenses/LICENSE-2.0.txt
*/
var Hogan={};(function(a,b){function i(a){return String(a===null||a===undefined?"":a)}function j(a){return a=i(a),h.test(a)?a.replace(c,"&amp;").replace(d,"&lt;").replace(e,"&gt;").replace(f,"&#39;").replace(g,"&quot;"):a}a.Template=function(a,c,d,e){this.r=a||this.r,this.c=d,this.options=e,this.text=c||"",this.buf=b?[]:""},a.Template.prototype={r:function(a,b,c){return""},v:j,t:i,render:function(b,c,d){return this.ri([b],c||{},d)},ri:function(a,b,c){return this.r(a,b,c)},rp:function(a,b,c,d){var e=c[a];return e?(this.c&&typeof e=="string"&&(e=this.c.compile(e,this.options)),e.ri(b,c,d)):""},rs:function(a,b,c){var d=a[a.length-1];if(!k(d)){c(a,b,this);return}for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop()},s:function(a,b,c,d,e,f,g){var h;return k(a)&&a.length===0?!1:(typeof a=="function"&&(a=this.ls(a,b,c,d,e,f,g)),h=a===""||!!a,!d&&h&&b&&b.push(typeof a=="object"?a:b[b.length-1]),h)},d:function(a,b,c,d){var e=a.split("."),f=this.f(e[0],b,c,d),g=null;if(a==="."&&k(b[b.length-2]))return b[b.length-1];for(var h=1;h<e.length;h++)f&&typeof f=="object"&&e[h]in f?(g=f,f=f[e[h]]):f="";return d&&!f?!1:(!d&&typeof f=="function"&&(b.push(g),f=this.lv(f,b,c),b.pop()),f)},f:function(a,b,c,d){var e=!1,f=null,g=!1;for(var h=b.length-1;h>=0;h--){f=b[h];if(f&&typeof f=="object"&&a in f){e=f[a],g=!0;break}}return g?(!d&&typeof e=="function"&&(e=this.lv(e,b,c)),e):d?!1:""},ho:function(a,b,c,d,e){var f=this.c,g=this.options;g.delimiters=e;var d=a.call(b,d);return d=d==null?String(d):d.toString(),this.b(f.compile(d,g).render(b,c)),!1},b:b?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:b?function(){var a=this.buf.join("");return this.buf=[],a}:function(){var a=this.buf;return this.buf="",a},ls:function(a,b,c,d,e,f,g){var h=b[b.length-1],i=null;if(!d&&this.c&&a.length>0)return this.ho(a,h,c,this.text.substring(e,f),g);i=a.call(h);if(typeof i=="function"){if(d)return!0;if(this.c)return this.ho(i,h,c,this.text.substring(e,f),g)}return i},lv:function(a,b,c){var d=b[b.length-1],e=a.call(d);if(typeof e=="function"){e=i(e.call(d));if(this.c&&~e.indexOf("{{"))return this.c.compile(e,this.options).render(d,c)}return i(e)}};var c=/&/g,d=/</g,e=/>/g,f=/\'/g,g=/\"/g,h=/[&<>\"\']/,k=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}})(typeof exports!="undefined"?exports:Hogan)
;/*})'"*/
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://www.readandspell.com/sites/all/themes/readandspell/js/slides.min.jquery.js. */
(function(a){a.fn.slides=function(b){return b=a.extend({},a.fn.slides.option,b),this.each(function(){function w(g,h,i){if(!p&&o){p=!0,b.animationStart(n+1);switch(g){case"next":l=n,k=n+1,k=e===k?0:k,r=f*2,g=-f*2,n=k;break;case"prev":l=n,k=n-1,k=k===-1?e-1:k,r=0,g=0,n=k;break;case"pagination":k=parseInt(i,10),l=a("."+b.paginationClass+" li."+b.currentClass+" a",c).attr("href").match("[^#/]+$"),k>l?(r=f*2,g=-f*2):(r=0,g=0),n=k};h==="fade"?b.crossfade?d.children(":eq("+k+")",c).css({zIndex:10}).fadeIn(b.fadeSpeed,b.fadeEasing,function(){b.autoHeight?d.animate({height:d.children(":eq("+k+")",c).outerHeight()},b.autoHeightSpeed,function(){d.children(":eq("+l+")",c).css({display:"none",zIndex:0}),d.children(":eq("+k+")",c).css({zIndex:0}),b.animationComplete(k+1),p=!1}):(d.children(":eq("+l+")",c).css({display:"none",zIndex:0}),d.children(":eq("+k+")",c).css({zIndex:0}),b.animationComplete(k+1),p=!1)}):d.children(":eq("+l+")",c).fadeOut(b.fadeSpeed,b.fadeEasing,function(){b.autoHeight?d.animate({height:d.children(":eq("+k+")",c).outerHeight()},b.autoHeightSpeed,function(){d.children(":eq("+k+")",c).fadeIn(b.fadeSpeed,b.fadeEasing)}):d.children(":eq("+k+")",c).fadeIn(b.fadeSpeed,b.fadeEasing,function(){a.browser.msie&&a(this).get(0).style.removeAttribute("filter")}),b.animationComplete(k+1),p=!1}):(d.children(":eq("+k+")").css({left:r,display:"block"}),b.autoHeight?d.animate({left:g,height:d.children(":eq("+k+")").outerHeight()},b.slideSpeed,b.slideEasing,function(){d.css({left:-f}),d.children(":eq("+k+")").css({left:f,zIndex:5}),d.children(":eq("+l+")").css({left:f,display:"none",zIndex:0}),b.animationComplete(k+1),p=!1}):d.animate({left:g},b.slideSpeed,b.slideEasing,function(){d.css({left:-f}),d.children(":eq("+k+")").css({left:f,zIndex:5}),d.children(":eq("+l+")").css({left:f,display:"none",zIndex:0}),b.animationComplete(k+1),p=!1})),b.pagination&&(a("."+b.paginationClass+" li."+b.currentClass,c).removeClass(b.currentClass),a("."+b.paginationClass+" li:eq("+k+")",c).addClass(b.currentClass))}}
function x(){clearInterval(c.data("interval"))}
function y(){b.pause?(clearTimeout(c.data("pause")),clearInterval(c.data("interval")),u=setTimeout(function(){clearTimeout(c.data("pause")),v=setInterval(function(){w("next",i)},b.play),c.data("interval",v)},b.pause),c.data("pause",u)):x()};a("."+b.container,a(this)).children().wrapAll('<div class="slides_control"/>');var c=a(this),d=a(".slides_control",c),e=d.children().size(),f=d.children().outerWidth(),g=d.children().outerHeight(),h=b.start-1,i=b.effect.indexOf(",")<0?b.effect:b.effect.replace(" ","").split(",")[0],j=b.effect.indexOf(",")<0?i:b.effect.replace(" ","").split(",")[1],k=0,l=0,m=0,n=0,o,p,q,r,s,t,u,v;if(e<2)return a("."+b.container,a(this)).fadeIn(b.fadeSpeed,b.fadeEasing,function(){o=!0,b.slidesLoaded()}),a("."+b.next+", ."+b.prev).fadeOut(0),!1;if(e<2)return;h<0&&(h=0),h>e&&(h=e-1),b.start&&(n=h),b.randomize&&d.randomize(),a("."+b.container,c).css({overflow:"hidden",position:"relative"}),d.children().css({position:"absolute",top:0,left:d.children().outerWidth(),zIndex:0,display:"none"}),d.css({position:"relative",width:f*3,height:g,left:-f}),a("."+b.container,c).css({display:"block"}),b.autoHeight&&(d.children().css({height:"auto"}),d.animate({height:d.children(":eq("+h+")").outerHeight()},b.autoHeightSpeed));if(b.preload&&d.find("img:eq("+h+")").length){a("."+b.container,c).css({background:"url("+b.preloadImage+") no-repeat 50% 50%"});var z=d.find("img:eq("+h+")").attr("src")+"?"+(new Date()).getTime();a("img",c).parent().attr("class")!="slides_control"?t=d.children(":eq(0)")[0].tagName.toLowerCase():t=d.find("img:eq("+h+")"),d.find("img:eq("+h+")").attr("src",z).load(function(){d.find(t+":eq("+h+")").fadeIn(b.fadeSpeed,b.fadeEasing,function(){a(this).css({zIndex:5}),a("."+b.container,c).css({background:""}),o=!0,b.slidesLoaded()})})}else d.children(":eq("+h+")").fadeIn(b.fadeSpeed,b.fadeEasing,function(){o=!0,b.slidesLoaded()});b.bigTarget&&(d.children().css({cursor:"pointer"}),d.children().click(function(){return w("next",i),!1})),b.hoverPause&&b.play&&(d.bind("mouseover",function(){x()}),d.bind("mouseleave",function(){y()})),b.generateNextPrev&&(a("."+b.container,c).after('<a href="#" class="'+b.prev+'">Prev</a>'),a("."+b.prev,c).after('<a href="#" class="'+b.next+'">Next</a>')),a("."+b.next,c).click(function(a){a.preventDefault(),b.play&&y(),w("next",i)}),a("."+b.prev,c).click(function(a){a.preventDefault(),b.play&&y(),w("prev",i)}),b.generatePagination?(b.prependPagination?c.prepend("<ul class="+b.paginationClass+"></ul>"):c.append("<ul class="+b.paginationClass+"></ul>"),d.children().each(function(){a("."+b.paginationClass,c).append('<li><a href="#'+m+'">'+(m+1)+"</a></li>"),m++})):a("."+b.paginationClass+" li a",c).each(function(){a(this).attr("href","#"+m),m++}),a("."+b.paginationClass+" li:eq("+h+")",c).addClass(b.currentClass),a("."+b.paginationClass+" li a",c).click(function(){return b.play&&y(),q=a(this).attr("href").match("[^#/]+$"),n!=q&&w("pagination",j,q),!1}),a("a.link",c).click(function(){return b.play&&y(),q=a(this).attr("href").match("[^#/]+$")-1,n!=q&&w("pagination",j,q),!1}),b.play&&(v=setInterval(function(){w("next",i)},b.play),c.data("interval",v))})},a.fn.slides.option={preload:!1,preloadImage:"/img/loading.gif",container:"slides_container",generateNextPrev:!1,next:"next",prev:"prev",pagination:!0,generatePagination:!0,prependPagination:!1,paginationClass:"pagination",currentClass:"current",fadeSpeed:350,fadeEasing:"",slideSpeed:350,slideEasing:"",start:1,effect:"slide",crossfade:!1,randomize:!1,play:0,pause:0,hoverPause:!1,autoHeight:!1,autoHeightSpeed:350,bigTarget:!1,animationStart:function(){},animationComplete:function(){},slidesLoaded:function(){}},a.fn.randomize=function(b){function c(){return Math.round(Math.random())-.5};return a(this).each(function(){var d=a(this),e=d.children(),f=e.length;if(f>1){e.hide();var g=[];for(i=0;i<f;i++)g[g.length]=i;g=g.sort(c),a.each(g,function(a,c){var f=e.eq(c),g=f.clone(!0);g.show().appendTo(d),b!==undefined&&b(f,g),f.remove()})}})}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://www.readandspell.com/sites/all/themes/readandspell/js/slides.min.jquery.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://www.readandspell.com/sites/all/themes/readandspell/js/readandspell.js. */
var geodata
function ttrsgeoip(data){geodata=data}
function numberWithCommas(x){x=x.toFixed(2);return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};(function($){$(window).on('load',function(){if($('.features:not(.curriculum):not(.noslick) .wrap-inner').length>0)$('.features .wrap-inner').slick({infinite:true,slidesToShow:7,slidesToScroll:7,dots:false,responsive:[{breakpoint:1920,settings:{slidesToShow:6,slidesToScroll:5}},{breakpoint:1750,settings:{slidesToShow:5,slidesToScroll:4}},{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:3}},{breakpoint:960,settings:{slidesToShow:4,slidesToScroll:3}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:2}},{breakpoint:540,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:380,settings:{slidesToShow:2,slidesToScroll:1}}]})});$(document).ready(function(){if($('.features.flickity .wrap-inner').length>0)$('.features.flickity .wrap-inner').each(function(i,container){var flkty=[];flkty[i]=new Flickity(container,{cellAlign:'left',freeScroll:true,wrapAround:true,prevNextButtons:false,pageDots:false})});if($('#block-views-slideshow-block .slides_front').length>0)$('#block-views-slideshow-block .slides_front').slides({play:0,pause:2500,hoverPause:true,pagination:true,generatePagination:true,generateNextPrev:true,autoHeight:false});if($('.what-best-describes-you').length>0){$('.yourself').on('click',function(e){$('.what-best-describes-you .exit-popup').addClass('open');$('.yourself').removeClass('active');$(this).addClass('active');$('.tags-wrap').removeClass('active');$('.tags-wrap-'+$(this).attr('data-cat')).addClass('active');if($('.section-what-best-describes-you').length>0)$('.what-best-describes-you .ttrs_button').attr('href','/'+$(this).attr('data-link'))});if($('.section-what-best-describes-you').length>0)$('.section-what-best-describes-you .tags span').on('click',function(e){$('.section-what-best-describes-you .tags span').removeClass('active');$(this).addClass('active');$.cookie('I_want_to_know',$(this).text(),{expires:5});var tags="?tags="+$(this).text(),url=$('.yourself.active').attr('data-link'),attr=$(this).attr('data-link');if(typeof attr!==typeof undefined&&attr!==false)url=attr;$('.section-what-best-describes-you .what-best-describes-you .ttrs_button').attr('href','/'+url+tags)})};console.log("welcome_blog");console.log($.cookie("welcome_blog"));if(($.cookie("welcome_blog")===null)&&$('.welcome-blog').length>0&&$('.what-best-describes-you').length>0){$('.section-blog .what-best-describes-you').show();$('.welcome-blog .tags span').on('click',function(e){$(this).toggleClass('active');var tags="?";$('.welcome-blog .tags span.active').each(function(i,obj){tags+="field_blog_tags_tid%5B%5D="+$(this).attr('data-tid')+"&"});$('.welcome-blog .ttrs_button').attr('href','/blog'+tags);if(tags.length>1){$('.welcome-blog .ttrs_button:not(.close)').addClass('enabled')}else $('.welcome-blog .ttrs_button:not(.close)').removeClass('enabled')});$('.welcome-blog .close').on('click',function(e){console.log(e);$.cookie('welcome_blog','1',{expires:5});$('.what-best-describes-you').hide()});$('.ttrs_button').on('click',function(e){$.cookie('welcome_blog','1',{expires:5})})};$('.scholarship-button').on('click',function(e){console.log('button-click');$('.scholarship-form').addClass('visible');$('html, body').animate({scrollTop:$(".scholarship-form").offset().top-100},500,"easeInOutCubic")});if($(".the-ttrs-method-menu").length>0){$('.the-ttrs-method-menu h2.block-title').on('click',function(e){$('.the-ttrs-method-menu .menu .resp, .the-ttrs-method-menu').toggleClass('open')});$('.the-ttrs-method-menu > .menu > li a').on('click',function(e){$(this).parent('li.is-expanded').toggleClass('down');$(this).siblings('.menu').toggleClass('sub-open')});$('.the-ttrs-method-menu > .menu > li a.close').on('click',function(e){$('.the-ttrs-method-menu .menu .resp, .the-ttrs-method-menu').removeClass('open')})};if($("#edit-province-wrapper").length>0)$("input#edit-province").attr("placeholder",$.trim($("#edit-province-wrapper > label").html()));jQuery(".reciteme").click(function(i,e){loadService();return false});$(window).load(function(){if(window.location.hash.length>0&&window.location.hash=="#fees"&&$("#block-readandspell-price-list-family").length>0){console.log(window.location.hash);$('html, body').animate({scrollTop:$("#block-readandspell-price-list-family").offset().top-100},1e3,"easeInOutCubic")}});if($(".view-research .views-row").length>0)$('.view-research .view-content').masonry({columnWidth:'.views-row',itemSelector:'.views-row',gutter:20,percentPosition:true});if($(".why-teachers").length>0)$('.why-teachers .field-item').masonry({columnWidth:'.why-box',itemSelector:'.why-box',gutter:55,percentPosition:true});$(window).on("load resize",function(e){if($(".press-featured-in").length>0){console.log('masonry ok');$('.press-featured-in .view-content').masonry({columnWidth:300,itemSelector:'.views-row',gutter:20,transitionDuration:0,percentPosition:false})};if($(".landingpage-template .how-does:not(.nomasonry) .inside-wrapper").length>0&&$(window).width()>=768)$('.landingpage-template .how-does:not(.nomasonry) .inside-wrapper').masonry({columnWidth:'.landingpage-template .how-does .inside-wrapper p',itemSelector:'.landingpage-template .how-does .inside-wrapper p',gutter:20,percentPosition:true})});if($('#edit-submitted-password-repeat').length>0){$('#edit-submitted-password').on('blur',function(){console.log($('#edit-submitted-password-repeat').val());if($('#edit-submitted-password').val()!=''&&$('#edit-submitted-password-repeat').val()!=''){if(!$(this).val().match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/)){$(this).addClass('error');$('.pass-check').addClass('error')}else{$(this).removeClass('error');$('.pass-check').removeClass('error')};if($(this).val()!=$('#edit-submitted-password-repeat').val()){$('.repass-check').show()}else $('.repass-check').hide()}});$('#edit-submitted-password-repeat').on('blur',function(){if($('#edit-submitted-password').val()!=''&&$('#edit-submitted-password-repeat').val()!='')if($(this).val()!=$('#edit-submitted-password').val()){$('.repass-check').show()}else $('.repass-check').hide()})};$('#edit-submitted-date-how-aboutinfo-select').on('change click',function(){if($('#edit-submitted-date-how-aboutinfo-select').val()=='Recommendation');else if($('#edit-submitted-date-how-aboutinfo-select').val()!='select_or_other'){$('.form-item-submitted-date-how-AboutInfo-other').hide();$('.form-item-submitted-date-how-AboutInfo-other input').prop('required',false)}});if($('.view-honour-roll-years ul li').length>0){$('.view-honour-roll-years ul li').each(function(){if(window.location.href.includes($(this).text().trim())){console.log($(this).text().trim());$(this).addClass('current')}});$('.view-honour-roll .read-more').on('click',function(){$(this).siblings('.views-field-body').addClass('open');$(this).siblings('.show-less').show();$(this).hide()});$('.view-honour-roll .show-less').on('click',function(){$(this).siblings('.views-field-body').removeClass('open');$(this).siblings('.read-more').show();$(this).hide()})};if(getParameterByName('utm_campaign')!=null)$.cookie('utm_campaign',getParameterByName('utm_campaign'));if(getParameterByName('utm_content')!=null)$.cookie('utm_content',getParameterByName('utm_content'));if(getParameterByName('utm_medium')!=null)$.cookie('utm_medium',getParameterByName('utm_medium'));if(getParameterByName('utm_source')!=null)$.cookie('utm_source',getParameterByName('utm_source'));if(getParameterByName('utm_term')!=null)$.cookie('utm_term',getParameterByName('utm_term'));setTimeout(function(){if($('iframe[name="intercom-banner-frame"]').length>0)$('body').addClass('intercom-banner')},4e3)});Drupal.behaviors.colorboxOpen={attach:function(context,settings){if($('#colorbox').css('display')=='block')if($('.what-best-describes-you').length>0){$("#cboxClose").insertBefore(".learn-more-button");$('.yourself').on('click',function(e){$('.yourself').removeClass('active');$(this).addClass('active');$('#cboxClose').addClass('open');$('.what-best-describes-you .ttrs_button').show();$('.tags-wrap').removeClass('active');$('.tags-wrap-'+$(this).attr('data-cat')).addClass('active');if($('.section-what-best-describes-you').length>0)$('.what-best-describes-you .ttrs_button').attr('href','/'+$(this).attr('data-link'));$("#colorbox").animate({scrollTop:$('#colorbox')[0].scrollHeight},"slow");$('#cboxContent').attr('data-selected',$(this).attr('data-link'))});$('.what-best-describes-you .tags span').on('click',function(e){$('.what-best-describes-you .tags span').removeClass('active');$(this).addClass('active');$.cookie('I_want_to_know',$(this).text(),{expires:5});var tags="?tags="+$(this).text(),url=$('.yourself.active').attr('data-link'),attr=$(this).attr('data-link');if(typeof attr!==typeof undefined&&attr!==false)url=attr;$('.what-best-describes-you .ttrs_button').attr('href','/'+url+tags+'#fees');$('.what-best-describes-you .ttrs_button').addClass('enabled')});$('#cboxClose').on('click',function(e){})}}};Drupal.behaviors.readAndSpellSlider={attach:function(context,settings){$('.slides',context).each(function(){$(this).slides({play:0,pause:2500,hoverPause:true,pagination:false,generatePagination:false,generateNextPrev:true,autoHeight:false})})}};Drupal.behaviors.readAndSpellSliderAuto={attach:function(context,settings){$('.slides_auto').each(function(){var delay=$(this).data('delay')*1e3;$(this).slides({play:delay,pause:2500,hoverPause:true,pagination:false,generatePagination:false,generateNextPrev:true,autoHeight:false})})}};Drupal.behaviors.readAndSpellSliderFront={attach:function(context,settings){}};Drupal.behaviors.readAndSpellGeneral={attach:function(context,settings){$("div.view-faq div.item-list ol li div.views-field-body",context).hide();$("div.view-faq div.item-list ol li h4",context).unbind().click(function(event){event.preventDefault();$(this).siblings("div.views-field-body").slideToggle("fast","linear")});$(window).load(function(){function addEvent(obj,evt,fn){setTimeout(function(){if(obj.addEventListener){obj.addEventListener(evt,fn,false)}else if(obj.attachEvent)obj.attachEvent("on"+evt,fn)},3e4)};addEvent(document,"mouseout",function(e){if($(window).width()>767&&$.urlParam('utm_source')!='referral'){e=e?e:window.event;var from=e.relatedTarget||e.toElement;if(!from||from.nodeName=="HTML"){if($.cookie('exitpopupclosed')!='1'){$("body:not(.teacher) .exit-popup-wrapper:not(.exit-home):not(.school)").show(100);$("body.teacher .exit-popup-wrapper.school").show(100);$("body .exit-popup-wrapper").show(100)};if($.cookie('exitpopupclosedhome')!='1')$(".exit-popup-wrapper.exit-home").show(100)}}});$(".exit-popup-wrapper .exit-popup-close").on("click",function(){$(".exit-popup-wrapper:not(.exit-home)").hide(100);$.cookie('exitpopupclosed','1',{expires:5})});$(".exit-home .exit-popup-close, .exit-home .ttrs_button.scroll-plans").on("click",function(){$(".exit-popup-wrapper.exit-home").hide(100);$.cookie('exitpopupclosedhome','1',{expires:5});exitpopupclosedhome=1});if($.cookie('summerpopupclosed')!='1'){$("body:not(.teacher) .summer-popup-wrapper:not(.school)").show(100);$("body.teacher .summer-popup-wrapper.school").show(100)};$(".summer-popup-wrapper .exit-popup-close").on("click",function(){$(".summer-popup-wrapper").hide(100);$.cookie('summerpopupclosed','1',{expires:5})});if($(".full-window-popup").length>0&&$.cookie('fullwindowpopupclosed')!='1'){$(window).scroll(function(){var shouldBeVisible=$(window).scrollTop()>$(document).height()/3;if(shouldBeVisible&&$.cookie('fullwindowpopupclosed')!='1'&&(typeof popuptest!=='undefined'&&popuptest==true)){document.body.style.overflow='hidden';$(".full-window-popup").fadeIn('slow')}});$(".full-window-popup .grey-outline").on("click",function(){$(".full-window-popup").fadeOut(100);document.body.style.overflow='visible';$.cookie('fullwindowpopupclosed','1',{expires:5})})};$(".use-this-coupon-code").on("click",function(){$.copyToClipboard($(this))});if($(window).width()<768)$('.faq .question').unbind().click(function(){$(this).toggleClass('open');$(this).parents('p').find('.answer').toggleClass('open')});if($.urlParam('utm_campaign')!=null&&$.urlParam('utm_campaign')=="winter_offer")if($(".paragraphs-item-call-to-action .cta-wrapper").length>0){$(".paragraphs-item-call-to-action").css({bottom:'-224px',transition:'bottom 0s'});$("body.landingpage-template").css({'padding-bottom':'325px'});$(".paragraphs-item-call-to-action > .field").css({height:'224px'});if($("body.i18n-en-US").length>0){var banner="winter-offer-banner.png"}else var banner="winter-offer-banner.png";var html="<a href='#order-licence-form' class='scroll-plans'><img src='/sites/default/files/"+banner+"' style='max-width: 963px; width: 100%; height: auto;' /></a>";$(".paragraphs-item-call-to-action .cta-wrapper").html(html);setTimeout(function(){$(".paragraphs-item-call-to-action").css({transition:'bottom 1s'})},1e3)}})}};Drupal.behaviors.readAndSpellGoalTracking={attach:function(context,setting){$('.page-node-12 .feature-box .yellow a[href="http://ttrsonline.com/Registration/HomeLicence/"]',context).attr('onClick',"ga('send', 'event', { eventCategory: 'Register', eventAction: 'Order Now', eventLabel: 'Contact Form'});");$('.page-node-12 .feature-box .green a[href="http://ttrsonline.com/Registration/EducationLicence"]',context).attr('onClick',"_gaq.push(['_trackEvent', 'education license', 'free trial', 'about page'])");$('.page-node-14 .education-box-yellow a[href="http://ttrsonline.com/Registration/EducationLicence"]',context).attr('onClick',"_gaq.push(['_trackEvent', 'education license', 'free trial', 'education page'])");$('li.menu-path-ttrsonlinecom-registration-homelicence a').attr('onClick',"_gaq.push(['_trackEvent', 'home license', 'order', 'nav bar'])");$('li.menu-path-ttrsonlinecom-registration-educationlicence a').attr('onClick',"_gaq.push(['_trackEvent', 'education license', 'free trial', 'nav bar'])")}};Drupal.behaviors.readAndSpellCountryPricing={attach:function(context,setting){if($.cookie("geoip_country")!==null){cc=$.cookie("geoip_country");acc=$.cookie("geoip_country");var priceHome=new Array();priceHome.GB="£25 a month";priceHome.EU="€25 + VAT a month";priceHome.US="$39 a month";priceHome.CA="$39 a month";priceHome.AU="$39 a month";priceHome.NZ="$49 a month";var priceEdu=new Array();priceEdu.GB="£32 + VAT a month";priceEdu.EU="€35 + VAT a month";priceEdu.US="$59 a month";priceEdu.CA="$69 a month";priceEdu.AU="$49 a month";priceEdu.NZ="$55 a month";$('#priceHome').text(priceHome[cc]);$('#priceEdu').text(priceEdu[cc]);if(cc=='GB');}else if($.cookie("geoip_country")==null&&typeof rq==='undefined'){var ipapi_api="8019cee571ca0a4d34b7b160a771cd44";jQuery.ajax({url:'//api.ipapi.com/check?access_key='+ipapi_api+'&format=1',success:function(response){const geoipdata=response;console.log("ipapi request");console.log("new geoip country: "+geoipdata.country_code);window.cc=geoipdata.country_code;window.acc=geoipdata.country_code;$.cookie("geoip_country",geoipdata.country_code,{expires:7});$(window).trigger('accLoad')},async:false});rq=1};if(window.location.href.indexOf("/us")==-1&&$.cookie("geoip_country")=="US"&&window.location.href.indexOf("thank_you")==-1){console.log("redirect to /us");window.location.href="/us"+window.location.pathname+location.search};if(window.location.href.indexOf("/us/")>-1){$.cookie("geoip_country","US",{expires:7});cc="US"};if(typeof cc=='undefined'){cc=acc;if(window.location.href.indexOf("/us/")>-1){$.cookie("geoip_country","US",{expires:7});cc="US"}};if(cc!='US'&&cc!='GB'&&cc!='UK'&&cc!='CA'&&cc!='AU'&&cc!='NZ')cc='EU';if(window.location.href.indexOf("/competition")>-1){competitionCurrency=cc;currencySign={US:"$",GB:"£",CA:"$",AU:"$",NZ:"$",EU:"€",IE:"€"};$(".competition-currency").html(currencySign[competitionCurrency])};if($('.currency-selector').length>0){if(cc=="GB")cc="UK";$('.selected-currency').addClass('cy-'+cc.toLowerCase());$('.currency-list').find('.cy-'+cc.toLowerCase()).addClass('tick');$('.selected-currency span').html($('.currency-list .tick span').html());$('.currency-list li').on("click",function(){$('.currency-list li').removeClass('tick');var selCurr=$(this).find('span').html(),selCountry=$(this).attr('data-country');$('.selected-currency').removeClass(function(index,css){return(css.match(/(^|\s)cy-\S+/g)||[]).join(' ')});$(this).addClass('tick');$('.selected-currency').addClass($(this).attr('class'));$('.selected-currency span').html(selCurr);$('select[name=country]').val(selCountry).trigger('change');$('.currency-wrap').hide()});$('.selected-currency').unbind('click').bind("click",function(e){$(this).siblings('.currency-wrap').toggle()})}}};Drupal.behaviors.readAndSpellTrial={attach:function(context,settings){if($("#edit-type").length>0)$("#edit-type").on("change",function(){var trialType=$(this).val();$("#edit-whatami option[value='']").attr('selected',true);if(trialType=="Home"){$("#edit-whatami option[value='teacher'], #edit-whatami option[value='tutor']").hide();$("#edit-whatami option[value='parent'], #edit-whatami option[value='adult learner']").show()};if(trialType=="Education"){$("#edit-whatami option[value='teacher'], #edit-whatami option[value='tutor']").show();$("#edit-whatami option[value='parent'], #edit-whatami option[value='adult learner']").hide()}});if($("#edit-submitted-countryid2").length>0)$("#edit-submitted-whatami, #edit-submitted-countryid2").on("change",function(){$("#edit-submitted-countryid").val($("#edit-submitted-countryid2").val())})}};Drupal.behaviors.readAndSpellSearch={attach:function(context,settings){$(window).load(function(){});if($('input#edit-distance-postal-code').length>0){$('input#edit-distance-postal-code').attr('placeholder',"Postcode / ZIP code");$('input#edit-postal-code').attr('placeholder',"Postcode / ZIP code")}}};Drupal.behaviors.readAndSpellSelectLocation={attach:function(context,settings){$('.page-parents-centres #country').on('change',function(){$(this).attr("data-flag",$(this)[0].value);var url=$(this).find(':selected').attr("data-url");console.log("url: "+url);if(url)window.location=url;return false});$(document).ready(function(){if($('.section-registration').length>0){var sel=$('#edit-submitted-country option[selected]').val();$('#edit-submitted-country').attr("data-flag",sel);$('#edit-submitted-country').on('change',function(){$(this).attr("data-flag",$(this)[0].value);return false})}});if($("#block-block-16 #edit-submitted-number-of-users, .section-registration #edit-submitted-number-of-users").length>0){$.priceCalculate=function(){var dataPrice=$('.webform-component--months-list li.selected .from-price-month').attr('data-price'),vatValue=dataPrice*0.2;$(".vat-value").text('£'+numberWithCommas(vatValue));var total='£'+numberWithCommas(Number(dataPrice)+Number(vatValue));$("input#edit-submitted-total").val(total);return total};hljs.initHighlightingOnLoad();var mySlider=$("#edit-submitted-number-of-users").bootstrapSlider({ticks:[0,200,500,1e3,1500,2e3],ticks_positions:[0,10,25,50,75,100],ticks_labels:['0','200','500','1000','1500','2000'],ticks_snap_bounds:30,tooltip:"hide"}),value=mySlider.bootstrapSlider('getValue'),price_base=2.5;$("input#edit-submitted-number-of-users").change(function(){users=$(this).val();price_m1=price_base*users*1;price_m3=price_base*users*3;price_m6=price_base*users*5;price_m12=price_base*users*10;$(".from-price-month.m1").text('£'+numberWithCommas(price_m1));$(".from-price-month.m1").attr('data-price',price_m1);$(".from-price-month.m3").text('£'+numberWithCommas(price_m3));$(".from-price-month.m3").attr('data-price',price_m3);$(".from-price-month.m6").text('£'+numberWithCommas(price_m6));$(".from-price-month.m6").attr('data-price',price_m6);$(".from-price-month.m12").text('£'+numberWithCommas(price_m12));$(".from-price-month.m12").attr('data-price',price_m12);$.priceCalculate()}).change();$('.webform-component--months-list li').on('click',function(){$('.webform-component--months-list li').removeClass('selected');$(this).addClass('selected');$.priceCalculate()})}}};Drupal.behaviors.readAndSpellScroll={attach:function(context,settings){$(document).ready(function(){$(".scroll-plans").click(function(){$('html, body').animate({scrollTop:$(".sub-plans").offset().top-200},1e3,"easeInOutCubic")});$(".scroll-plans2").click(function(){$('html, body').animate({scrollTop:$(".sub-plans2").offset().top-200},1e3,"easeInOutCubic")});$(".scroll-family").click(function(){$('html, body').animate({scrollTop:$("#block-readandspell-price-list-family").offset().top-100},1e3,"easeInOutCubic")});$(".scroll-plans-edu").click(function(){$('html, body').animate({scrollTop:$(".ordering-section").offset().top-200},1e3,"easeInOutCubic")});$(".scroll-submenu").click(function(){var target=$(this).attr("data-jump");$('html, body').animate({scrollTop:$("#"+target).offset().top-120},1e3,"easeInOutCubic")});if($.urlParam('go')!=null&&$.urlParam('go').length>0){var scrollTo=$("."+$.urlParam('go')).offset().top-60;$('html, body').animate({scrollTop:scrollTo},1e3,"easeInOutCubic")}});if($.urlParam('rfsn')!=null)$.cookie('rfsn',$.urlParam('rfsn'));if($.urlParam('utm_source')!=null)$.cookie('utm_source',$.urlParam('utm_source'));$(window).scroll(function(){var shouldBeVisible=$(window).scrollTop()>$(document).height()/3;if(shouldBeVisible&&$.cookie('utm_source')!='referral'&&$.cookie('rfsn')==null){$(".paragraphs-item-call-to-action").css("bottom","0px");if($.cookie('styblgcls')!='1')$(".field-name-field-sticky-banner").css("bottom","0px")}});if($(".field.field-name-field-sticky-banner").length>0){$.cookie('styblgcls','0');$(".field.field-name-field-sticky-banner .close").on("click",function(){$(".field-name-field-sticky-banner").css("bottom","-100%");$.cookie('styblgcls','1')})};if($('.banner-sticky').length>0){var s=$(".banner-sticky"),pos=s.position();$(window).scroll(function(){var windowpos=$(window).scrollTop(),top=pos.top+0;if(windowpos>=top){s.addClass("stick");s.css("top",100)}else s.removeClass("stick");if($(window).scrollTop()+$(window).height()>$(document).height()-600){var byp=$(document).height(),byw=$(window).scrollTop(),diff=byw-byp+$(window).height()+600;diff=100-diff;s.css("top",diff+"px")}})};$(window).on('scroll load',function(){if($('body.menufix').length>0){var s=$("#navigation"),pos=s.position(),windowpos=$(window).scrollTop(),top=pos.top+45;if(windowpos>=top)s.addClass("menu-fix");if(windowpos<22)s.removeClass("menu-fix")};if($(document).scrollTop()>25){$(".block-menu.the-ttrs-method-menu").addClass("fixed");$("#navigation, #logo").addClass("fixed")}else{$(".block-menu.the-ttrs-method-menu").removeClass("fixed");$("#navigation, #logo").removeClass("fixed")}});if($(window).width()<768&&$('.home-reg-form .button-primary').length>0){var sB=$('.home-reg-form .button-primary'),posB=sB.offset(),posHRF=$('.home-reg-form').offset(),heightHRF=$('.home-reg-form').height();$(window).scroll(function(){var windowposB=$(window).scrollTop(),topB=posB.top-$(window).height()-50,topHRF=posHRF.top-$(window).height();if(windowposB>=topHRF&&windowposB<=(topHRF+heightHRF-180)){sB.addClass("stick-b");$('.section-trial-course .paragraphs-item-call-to-action').hide()}else{sB.removeClass("stick-b");$('.section-trial-course .paragraphs-item-call-to-action').show()}})}}};Drupal.behaviors.readAndSpellTestimonials={attach:function(context,settings){if($("body:not(.section-down-syndrome) .views-field-field-testimonal .field-content").length>0);}};Drupal.behaviors.readAndSpellYTthumbnalMobile={attach:function(context,settings){if($(".youtube-tumb").length>0)$(window).on("load resize",function(e){if($(window).width()<640){$(".page-hero-image > .youtube-tumb").insertAfter(".page-content .field-name-body h4:first-of-type");$(".node > .youtube-desc").insertAfter(".page-content .field-name-body .youtube-tumb")}else{$(".page-content .field-name-body .youtube-tumb").insertAfter(".page-hero-image > .page-callout");$(".page-content .youtube-desc").insertAfter(".node > .page-hero-image")}})}};Drupal.behaviors.readAndSpellTestimonialsandReviews={attach:function(context,settings){if($(".view-testimonials-and-reviews").length>0){var $grid=$('.masonry .grid'),filters=[];function putDate(){var datePrevious="";$('.grid > .views-row').each(function(index,value){if($(this).find('.views-field-field-date-testimonial').is(':visible')===true){var date=$(this).find('.views-field-field-date-testimonial .date-display-single').html();if(date==datePrevious){$(this).find('.views-field-field-date-testimonial').hide()}else $(this).find('.views-field-field-date-testimonial').show();datePrevious=date}})};function getHashFilter(){var matches=location.hash.match(/filter=([^&]+)/i),hashFilter=matches&&matches[1];return hashFilter&&decodeURIComponent(hashFilter)};var isIsotopeInit=false;function onHashchange(){var hashFilter=getHashFilter();if(!hashFilter&&isIsotopeInit)return;isIsotopeInit=true;$grid.isotope({itemSelector:'.color-shape',layoutMode:'masonry',masonry:{columnWidth:'.color-shape',gutter:20},filter:hashFilter});if(hashFilter){$('.filters').find('.is-checked').removeClass('is-checked');$('.filters').find('[data-filter="'+hashFilter+'"]').addClass('is-checked')}};onHashchange();putDate();$('.filters').unbind().on('click','button',function(event){event.stopPropagation();event.preventDefault();var $target=$(event.currentTarget);$target.toggleClass('is-checked');var isChecked=$target.hasClass('is-checked'),filter=$target.attr('data-filter');if(isChecked){addFilter(filter)}else removeFilter(filter);var filterAttr=$(this).attr('data-filter');location.hash='filter='+encodeURIComponent(filterAttr);$grid.isotope({filter:filters.join(',')});putDate()});function addFilter(filter){if(filters.indexOf(filter)==-1)filters.push(filter)};function removeFilter(filter){var index=filters.indexOf(filter);if(index!=-1)filters.splice(index,1)}};if($(".asknicely").length>0){var $asknicely=$('.asknicely');isIsotopeInit=true;$asknicely.isotope({itemSelector:'.an_comment',percentPosition:true,masonry:{columnWidth:'.an_comment'}})}}};Drupal.behaviors.readAndSpellPricingTable={attach:function(context,settings){if($(".section-pricing-schools .locations-flags").length>0){$.ajaxSetup({cache:false});$.getJSON("/sites/all/themes/readandspell/js/prices.json?esdfr=zrfh6543",function(priceData){var licenceData=priceData.priceEdu,licenceLink="EducationSubscription";$(".section-pricing-schools .locations-flags li a").click(function(event){event.preventDefault();var selectedCountry=$(this).data("country");$(".price-single").text(licenceData[selectedCountry].currency+licenceData[selectedCountry].monthly1[1]);$(".price-small").text(licenceData[selectedCountry].currency+licenceData[selectedCountry].monthly1[10]);$(".price-medium").text(licenceData[selectedCountry].currency+licenceData[selectedCountry].monthly1[50]);$(".price-large").text(licenceData[selectedCountry].currency+licenceData[selectedCountry].monthly1[100]);if(selectedCountry=="IE"){$("#pricing-table .plan").hide();$("#pricing-table .ireland-text").show()}else{$("#pricing-table .plan").show();$("#pricing-table .ireland-text").hide()};if(selectedCountry=="EU")selectedCountry="IE";$(".signup-single").attr("href","https://ttrsonline.com/registration/EducationSubscription?country="+selectedCountry+"&period=monthly&studentsCount=1");$(".signup-small").attr("href","https://ttrsonline.com/registration/EducationSubscription?country="+selectedCountry+"&period=monthly&studentsCount=10");$(".signup-medium").attr("href","https://ttrsonline.com/registration/EducationSubscription?country="+selectedCountry+"&period=monthly&studentsCount=50");$(".signup-large").attr("href","https://ttrsonline.com/registration/EducationSubscription?country="+selectedCountry+"&period=monthly&studentsCount=100");$(".section-pricing-schools .locations-flags li").removeClass("active");$(this).parent().addClass("active")});if($('body').hasClass('i18n-en-US'))$(".section-pricing-schools .locations-flags li a.united-states").trigger('click')})}}};Drupal.behaviors.readAndSpellMobileMenu={attach:function(context,settings){$('.responsive-menus .menuparent > a').unbind().on('click',function(event){if($(window).width()<768){event.preventDefault();$(this).next().toggle("slow")}});$('.toggler').on('click',function(event){event.preventDefault();$('.login-block').toggle()});$(window).on("load resize",function(e){if($(window).width()<768){$(".mobile-link").closest("li").removeClass('menuparent');$(".mobile-link").next("ul").detach();$('.mobile-link').click(function(event){event.preventDefault();href=$(this).attr("href");window.location.href=href})}})}};Drupal.behaviors.readAndSpellCentres={attach:function(context,settings){if($(".page-parents-centres").length>0){$("a.map-view, .tutor-box .show-on-map").on('click',function(e){$("a.list-view").addClass('outline');$("a.map-view").removeClass('outline');$(".locations").hide("slow");$(".tutor-box-wrapper").addClass("map-open");$(".locations-map-wrapper").removeClass('map-out');$(".locations-map-wrapper").addClass('map-in');var sel=$(this).parents(".tutor-box").attr("data-sel");google.maps.event.trigger(markers[sel],'click')});$("a.list-view").on('click',function(e){$("a.map-view").addClass('outline');$(".locations-map-wrapper").removeClass('map-in');$(".locations-map-wrapper").addClass('map-out');$("a.list-view").removeClass('outline');$(".tutor-box-wrapper").removeClass("map-open");$(".locations").removeClass('absolute');$(".locations").addClass('relative');$(".locations").show("slow")})}}};Drupal.behaviors.readAndSpellBlogpage={attach:function(context,settings){if($("body.node-type-blog-post").length>0)$(window).load(function(){$('article').readingTime({readingTimeTarget:$('.reading-time')})})}};Drupal.behaviors.readAndSpellMasonry={attach:function(context,settings){}};Drupal.behaviors.readAndSpellPayment={attach:function(context,settings){if($(".section-payment").length>0){$(".card-view").on("click",function(){$(this).removeClass("outline");$(".bank-view").addClass("outline");$(".bank-payment").hide("fast");$(".card-payment").show("fast")});$(".bank-view").on("click",function(){$(this).removeClass("outline");$(".card-view").addClass("outline");$(".card-payment").hide("fast");$(".bank-payment").show("fast")})}}};$.urlParam=function(name){var results=new RegExp('[\?&]'+name+'=([^&#]*)').exec(window.location.href);if(results==null){return null}else return results[1]||0}
function getParameterByName(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "))};var u_campaign=getParameterByName('utm_campaign');console.log('u_campaign');console.log(u_campaign);$.copyToClipboard=function(element){var $temp=$("<input>");$("body").append($temp);$temp.val($(element).text()).select();document.execCommand("copy");$temp.remove()}}(jQuery));;
/* Source and licensing information for the above line(s) can be found at https://www.readandspell.com/sites/all/themes/readandspell/js/readandspell.js. */
;/*})'"*/
//custom code for education widget

function clickFlag() {
	var activeFlag = jQuery("#education-licencing .locations-flags li.active a");
	//console.log(activeFlag.data('country'));
	//get which country is active.
	var country = ttrsonline[activeFlag.data('country')]
	//console.log(country);

	var contentArea = jQuery(".education-pricing");
	//contentArea.html('<div class="summary-individual">Up to 100 Students <small>from '+country.currency+country.prices[100].weekly+' per user per week</small><div class="choose-button"><a href="#education-licencing" class="ttrs_button_arrow" id="individual">CHOOSE</a></div></div><div class="summary-school">Whole School Licence <small>'+country.currency+country.school+' per user per year</small><div class="choose-button"><a href="http://ttrsonline.com/Registration/EducationLicence" class="ttrs_button_arrow" id="school">CHOOSE</a></div></div><div class="detail-individual"><h3>Choose the number of users:</h3><table id="pricing-table"><tr><th>User Places</th><th>Annual Cost, '+country.currency+'</th><th>Cost per user per week, '+country.currency+'</th><th>&nbsp</th></tr><tr><td>5</td><td>'+country.prices[5].annual+'</td><td>'+country.prices[5].weekly+'</td><td><a href="http://ttrsonline.com/Registration/EducationLicence" class="ttrs_button">ORDER</a></td></tr><tr><td>10</td><td>'+country.prices[10].annual+'</td><td>'+country.prices[10].weekly+'</td><td><a href="http://ttrsonline.com/Registration/EducationLicence" class="ttrs_button">ORDER</a></td></tr><tr><td>20</td><td>'+country.prices[20].annual+'</td><td>'+country.prices[20].weekly+'</td><td><a href="http://ttrsonline.com/Registration/EducationLicence" class="ttrs_button">ORDER</a></td></tr><tr><td>50</td><td>'+country.prices[50].annual+'</td><td>'+country.prices[50].weekly+'</td><td><a href="http://ttrsonline.com/Registration/EducationLicence" class="ttrs_button">ORDER</a></td></tr><tr><td>100</td><td>'+country.prices[100].annual+'</td><td>'+country.prices[100].weekly+'</td><td><a href="http://ttrsonline.com/Registration/EducationLicence" class="ttrs_button">ORDER</a></td></tr></table><a href="#education-licencing" id="individual-back" class="ttrs_button">BACK</a></div>');
	//contentArea.html('<div class="summary-individual">Up to 100 Students <small>from '+country.currency+country.prices[100].weekly+' per user per week</small><div class="choose-button"><a href="#education-licencing" class="ttrs_button_arrow" id="individual">Details</a></div></div><div class="summary-school">Annual Licence <small>'+country.currency+country.school+' per user per year</small></div><div class="detail-individual"><h3>Choose the number of users:</h3><table id="pricing-table"><tr><th>User Places</th><th>Annual Cost, '+country.currency+'</th><th>Cost per user per week, '+country.currency+'</th></tr><tr><td>5</td><td>'+country.prices[5].annual+'</td><td>'+country.prices[5].weekly+'</td></tr><tr><td>10</td><td>'+country.prices[10].annual+'</td><td>'+country.prices[10].weekly+'</td></tr><tr><td>20</td><td>'+country.prices[20].annual+'</td><td>'+country.prices[20].weekly+'</td></tr><tr><td>50</td><td>'+country.prices[50].annual+'</td><td>'+country.prices[50].weekly+'</td></tr><tr><td>100</td><td>'+country.prices[100].annual+'</td><td>'+country.prices[100].weekly+'</td></tr></table><a href="#education-licencing" id="individual-back" class="ttrs_button">BACK</a></div>');
	contentArea.html(templates.education.render(country));
	jQuery(".notes").html(country.notes);

//	jQuery("#individual").click(function(event){
//		event.preventDefault();
//		jQuery(".summary-individual").fadeOut();
//		jQuery(".summary-school").fadeOut();
//		jQuery(".detail-individual").fadeIn();
//		jQuery(".education-pricing").height(jQuery(".detail-individual").height());
//		jQuery('.free-trial-button').fadeOut();
//	});
//	jQuery("#school").click(function() {
//
//	});
//	jQuery("#individual-back").click(function(event){
//		event.preventDefault();
//		jQuery(".summary-individual").fadeIn();
//		jQuery(".summary-school").fadeIn();
//		jQuery(".detail-individual").fadeOut();
//		jQuery(".education-pricing").css("height", "auto");
//		jQuery('.free-trial-button').fadeIn();
//	});

}

function clickFlagFullWidth() {
    var activeFlag = jQuery("#educationfullwidth-licencing .locations-flags li.active a");
    //console.log(activeFlag.data('country'));
    //get which country is active.
    var country = ttrsonline[activeFlag.data('country')]

    jQuery('.education-title').html(templates.educationtitle.render(country));

    var contentArea = jQuery(".education-pricing");
    contentArea.html(templates.educationpricing.render(country));
}

jQuery(document).ready(function(){
	if(jQuery("#education-licencing").length > 0) {
	clickFlag();
	//console.log("Ready run");
	jQuery("#education-licencing .locations-flags li a").click(function(event){
	   	event.preventDefault();
	   	//console.log("clicked");
	   	//condole.log(jQuery(this));
	   	jQuery("#education-licencing .locations-flags li").removeClass("active");
	   	jQuery(this).parent().addClass("active");
	   	//jQuery(".education-pricing").css("height", "auto");
	   	clickFlag();
	});
	}

    // Full width version
	if(jQuery("#educationfullwidth-licencing").length > 0) {
        jQuery("#educationfullwidth-licencing .locations-flags li a").click(function(event){
            event.preventDefault();
            jQuery("#educationfullwidth-licencing .locations-flags li").removeClass("active");
            jQuery(this).parent().addClass("active");
            clickFlagFullWidth();
        });

        clickFlagFullWidth();
	}
});

;/*})'"*/
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://www.readandspell.com/sites/all/themes/readandspell/js/homecourse-pricing-script.js. */
function clickFlagHome(){var activeFlag=jQuery("#homecourse-licencing .locations-flags li.active a"),country=ttrshome[activeFlag.data('country')],contentArea=jQuery(".education-pricing");contentArea.html("<p>"+country+" for one year licence</p>")}
function clickFlagHomeFullWidth(){var activeFlag=jQuery("#homecourse-licencing .locations-flags li.active a"),country=ttrshomenew[activeFlag.data('country')],contentArea=jQuery(".education-pricing");if(activeFlag.data('country')=="ie"){contentArea.html(templates.homepricingIE.render(country))}else contentArea.html(templates.homepricing.render(country))};jQuery(document).ready(function(){if(jQuery("#homecourse-licencing").length>0){clickFlagHome();jQuery("#homecourse-licencing .locations-flags li a").click(function(event){event.preventDefault();jQuery("#homecourse-licencing .locations-flags li").removeClass("active");jQuery(this).parent().addClass("active");clickFlagHome()})};if(jQuery(".hcl-fullwidth").length>0){clickFlagHomeFullWidth();jQuery("#homecourse-licencing .locations-flags li a").click(function(event){event.preventDefault();jQuery("#homecourse-licencing .locations-flags li").removeClass("active");jQuery(this).parent().addClass("active");clickFlagHomeFullWidth()})}});;
/* Source and licensing information for the above line(s) can be found at https://www.readandspell.com/sites/all/themes/readandspell/js/homecourse-pricing-script.js. */
;/*})'"*/
var templates = {};
templates.education = new Hogan.Template(function(c,p,i){var _=this;_.b(i=i||"");if(_.s(_.f("showIndividual",c,p,1),c,p,0,19,884,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("    <div class=\"detail-individual\">");_.b("\n" + i);_.b("        <table id=\"pricing-table\">");_.b("\n" + i);_.b("            <tr>");_.b("\n" + i);_.b("                <th>Users</th>");_.b("\n" + i);_.b("                <th class=\"monthly\">Monthly</th>");_.b("\n" + i);_.b("                <th class=\"monthly\">Cost <small>per user per month</small></th>");_.b("\n" + i);_.b("                <th class=\"annual\">Annual <small>2 months free</small></th>");_.b("\n" + i);_.b("                <th>Order</th>");_.b("\n" + i);_.b("            </tr>");_.b("\n" + i);if(_.s(_.f("prices",c,p,1),c,p,0,414,790,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("              <tr>");_.b("\n" + i);_.b("                  <td>");_.b(_.v(_.f("quantity",c,p,0)));_.b("</td>");_.b("\n" + i);_.b("                  <td class=\"monthly\">");_.b(_.v(_.f("currency",c,p,0)));_.b(_.v(_.f("monthly",c,p,0)));_.b("</td>");_.b("\n" + i);_.b("                  <td class=\"monthly\">");_.b(_.v(_.f("currency",c,p,0)));_.b(_.v(_.f("monthly-user",c,p,0)));_.b("</td>");_.b("\n" + i);_.b("                  <td class=\"annual\">");if(_.f("annual",c,p,0)>0){_.b(_.v(_.f("currency",c,p,0)));_.b(_.v(_.f("annual",c,p,0)))};_.b("</td>");_.b("\n" + i);_.b("                  <td><a href=\"");_.b(_.v(_.f("orderlink",c,p,0)));_.b("\" class=\"ttrs_button\">ORDER</a> </td>");_.b("\n" + i);_.b("              </tr>");_.b("\n");});c.pop();}_.b("            <tr>");_.b("\n" + i);_.b("        </table>");_.b("\n" + i);_.b("        <div class=\"clearfix\"></div>");_.b("\n" + i);_.b("    </div>");_.b("\n");});c.pop();}_.b("\n" + i);if(_.s(_.f("more",c,p,1),c,p,0,914,937,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("    <p>");_.b(_.t(_.f("more",c,p,0)));_.b("</p>");_.b("\n");});c.pop();}return _.fl();;});
templates.educationpricing = new Hogan.Template(function(c,p,i){var _=this;_.b(i=i||"");if(_.s(_.f("showIndividual",c,p,1),c,p,0,19,1186,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("\n" + i);_.b("    <div class='one_half'>");_.b("\n" + i);_.b("        <div class='inner'>");_.b("\n" + i);_.b("            <h4>Buy monthly</h4>");_.b("\n" + i);_.b("            <p class=\"price\"><span>");_.b(_.v(_.f("currency",c,p,0)));_.b(_.t(_.d("prices.0.monthly",c,p,0)));_.b("</span>");if(_.s(_.f("vat",c,p,1),c,p,0,193,197,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("+VAT");});c.pop();}_.b("</p>");_.b("\n" + i);_.b("            <p class=\"education-users\">for ");_.b(_.v(_.d("prices.0.quantity",c,p,0)));_.b(" users</p>");_.b("\n" + i);_.b("            <p class=\"link\"><a href=\"");_.b(_.t(_.f("orderlinkMonthly",c,p,0)));_.b("\" onclick=\"_gaq.push(['_trackEvent', 'education license', 'order monthly', 'education-course page'])\">Order Now</a></p>");_.b("\n" + i);_.b("        </div>");_.b("\n" + i);_.b("    </div>");_.b("\n" + i);_.b("    <div class='one_half_last'>");_.b("\n" + i);_.b("        <div class='inner'>");_.b("\n" + i);_.b("          ");if(_.s(_.f("discount",c,p,1),c,p,0,566,610,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("<div class=\"free\">");_.b(_.v(_.f("discountQuantity",c,p,0)));_.b("</div>");});c.pop();}_.b("\n" + i);_.b("            <h4>Buy annually</h3>");_.b("\n" + i);_.b("                <p class=\"price\"><span>");_.b(_.v(_.f("currency",c,p,0)));_.b(_.t(_.d("prices.0.annual",c,p,0)));_.b("</span>");if(_.s(_.f("vat",c,p,1),c,p,0,745,749,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("+VAT");});c.pop();}_.b("</p>");_.b("\n" + i);_.b("                <p class=\"education-users\">for ");_.b(_.v(_.d("prices.0.quantity",c,p,0)));_.b(" users</p>");_.b("\n" + i);_.b("                <p class=\"link\"><a href=\"");_.b(_.t(_.f("orderlinkYearly",c,p,0)));_.b("\" onclick=\"_gaq.push(['_trackEvent', 'education license', 'order annual', 'education-course page'])\">Order Now</a></p>");_.b("\n" + i);_.b("        </div>");_.b("\n" + i);_.b("    </div>");_.b("\n" + i);_.b("    <div class=\"clearfix\"></div>");_.b("\n" + i);_.b("    <p class=\"moreUsers\"><a href=\"");_.b(_.v(_.f("morelink",c,p,0)));_.b("\">for more than ");_.b(_.v(_.d("prices.0.quantity",c,p,0)));_.b(" users, click here</a></p>");_.b("\n" + i);_.b("\n");});c.pop();}_.b("\n" + i);if(_.s(_.f("more",c,p,1),c,p,0,1216,1239,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("    <p>");_.b(_.t(_.f("more",c,p,0)));_.b("</p>");_.b("\n");});c.pop();}return _.fl();;});
templates.educationtitle = new Hogan.Template(function(c,p,i){var _=this;_.b(i=i||"");if(_.s(_.f("showIndividual",c,p,1),c,p,0,19,116,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("<h3>Education Licence fees from ");_.b(_.v(_.f("currency",c,p,0)));_.b(_.v(_.d("prices.0.monthly",c,p,0)));if(_.s(_.f("vat",c,p,1),c,p,0,91,95,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("+VAT");});c.pop();}_.b(" a month</h3>");});c.pop();}return _.fl();;});
templates.homepricingIE = new Hogan.Template(function(c,p,i){var _=this;_.b(i=i||"");_.b("<div class='one_half'>");_.b("\n" + i);_.b("    <div class='inner'>");_.b("\n" + i);_.b("        <h4>Monthly</h4>");_.b("\n" + i);_.b("        <p class=\"price\"><span>");_.b(_.t(_.f("monthly",c,p,0)));_.b("</span>");if(_.s(_.f("vat",c,p,1),c,p,0,131,135,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("+VAT");});c.pop();}_.b("</p>");_.b("\n" + i);_.b("        <p class=\"link\"><a href=\"");_.b(_.t(_.f("link",c,p,0)));_.b("Monthly\" onclick=\"_gaq.push(['_trackEvent', 'home license', 'order monthly', 'home-course page'])\">Order Now</a></p>");_.b("\n" + i);_.b("    </div>");_.b("\n" + i);_.b("</div>");_.b("\n" + i);_.b("<div class='one_half_last'>");_.b("\n" + i);_.b("    <div class='inner'>");_.b("\n" + i);_.b("      ");if(_.s(_.f("discount",c,p,1),c,p,0,397,441,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("<div class=\"free\">");_.b(_.v(_.f("discountQuantity",c,p,0)));_.b("</div>");});c.pop();}_.b("\n" + i);_.b("        <h4>Annually</h3>");_.b("\n" + i);_.b("            <p class=\"price\"><span>");_.b(_.t(_.f("annual",c,p,0)));_.b("</span>");if(_.s(_.f("vat",c,p,1),c,p,0,543,547,"{{ }}")){_.rs(c,p,function(c,p,_){_.b("+VAT");});c.pop();}_.b("</p>");_.b("\n" + i);_.b("            <p class=\"link\"><a href=\"");_.b(_.t(_.f("link",c,p,0)));_.b("Yearly\" onclick=\"_gaq.push(['_trackEvent', 'home license', 'order annual', 'home-course page'])\">Order Now</a></p>");_.b("\n" + i);_.b("    </div>");_.b("\n" + i);_.b("</div>");return _.fl();;});
templates.homepricing = new Hogan.Template(function(c,p,i){var _=this;_.b(i=i||"");_.b("<div class='vat-line'>All prices are for 5 users including VAT</div>");_.b("\n" + i);_.b("<div class='full'>");_.b("\n" + i);_.b("    <div class='inner'>");_.b("\n" + i);_.b("\n" + i);_.b("    <table class='pricing-table-green'>");_.b("\n" + i);_.b("<tr><td class='period'>1 month</td>");_.b("        <td class=\"price\"><span>");_.b(_.t(_.f("monthly",c,p,0)));_.b("</span>");_.b("</td>");_.b("\n" + i);_.b("        <td class=\"link\"><a href=\"");_.b(_.t(_.f("link",c,p,0)));_.b("monthly\" onclick=\"_gaq.push(['_trackEvent', 'home license', 'order monthly', 'home-course page'])\">Order Now</a></td></tr>");_.b("\n" + i);_.b("<tr><td class='period'>3 months</td>");_.b("        <td class=\"price\"><span>");_.b(_.t(_.f("quarterly",c,p,0)));_.b("</span>");_.b("</td>");_.b("\n" + i);_.b("        <td class=\"link\"><a href=\"");_.b(_.t(_.f("link",c,p,0)));_.b("quarterly\" onclick=\"_gaq.push(['_trackEvent', 'home license', 'order quarterly', 'home-course page'])\">Order Now</a></td></tr>");_.b("\n" + i);_.b("<tr><td class='period'>6 months</td>");_.b("        <td class=\"price\"><span>");_.b(_.t(_.f("halfyearly",c,p,0)));_.b("</span>");_.b("</td>");_.b("\n" + i);_.b("        <td class=\"link\"><a href=\"");_.b(_.t(_.f("link",c,p,0)));_.b("halfyearly\" onclick=\"_gaq.push(['_trackEvent', 'home license', 'order halfyearly', 'home-course page'])\">Order Now</a></td></tr>");_.b("\n" + i);_.b("<tr><td class='period'>Annual</td>");_.b("        <td class=\"price\"><span>");_.b(_.t(_.f("yearly",c,p,0)));_.b("</span>");_.b("</td>");_.b("\n" + i);_.b("        <td class=\"link\"><a href=\"");_.b(_.t(_.f("link",c,p,0)));_.b("yearly\" onclick=\"_gaq.push(['_trackEvent', 'home license', 'order yearly', 'home-course page'])\">Order Now</a></td></tr>");_.b("\n" + i);_.b("    </table>");_.b("\n" + i);_.b("</div></div>");_.b("\n" + i);return _.fl();;});

;/*})'"*/
;/*})'"*/
